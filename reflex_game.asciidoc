== The MintDuino Reflex Game

The MintDuino Reflex Game will test the reflexes of two players.  The game takes place on the small Mini-Breadboard, with each player waiting to push a button when an LED in the center of the breadboard lights up.  The central yellow LED will light up after a random amount of time has passed (something between say 5 and 10 seconds).  Whichever player pushes their button first after the central LED lights up wins and a green LED will light up on the side of the player who wins.  But a player can't simply push the button over and over before the LED lights up!  Pushing the button before the center LED lights up automatically gives the other player the win.

That's The Big Project, but let's break it down into four sub-tasks that will help us understand the proper wiring of the MintDuino and the electronics components and the programming elements required:

. Wire up and program the MintDuino to light an LED - this will help us to not only light the center yellow LED but also the winning player's green LED.
. Wire up and light an LED after a Random Wait Time- we will learn how to light an LED after waiting a random amount of time.
. Wire up and program an LED to light up when the pushbutton is pressed - this will help us to understand the proper wiring of a pushbutton as well as how to use it as a trigger for another event (lighting an LED in this case).
.  Wire and program two pushbuttons to light up a pushbutton's matching LED when pressed - Now we'll figure out how to trigger the correct LED when its paired pushbutton is pressed.

Once we understand what's required to light LEDs, wait a random amount of time, and test for pushbuttons to be pressed, we can pull it all together and build the MintDuino Reflex Game.  The fact that we'll have multiple LEDS shouldn't be a problem - if we know how to light one, well... we can light two... or three.  And if we know how to determine if a pushbutton has been pressed, we can probably figure out how to detect which of two pushbuttons has been pressed.  Then we add some code to start the game, check for a pre-mature button push, and reset the game... and we're in business.

====
This MintDuino Notebook will provide you with the sample code required to test various circuits and electronics components, but it will not be able to provide a comprehensive tutorial on programming the MintDuino (or an Arduino).  If you need a better understanding of the programming language used to create MintDuino sketches, you’ll want to turn to a variety of online and printed sources designed to teach beginning Arduino programming.  A few of these resources can be found at the end of this document.
====


=== Sub-Task 2: Randomly Light an LED
Sub-Task 2 will use the same circuit you assembled for Sub-Task 1; we will simply make a change to the programming that will light up the LED after a random number of seconds has elapsed.  You can download the program for Sub-Task 2 at [URL here] or simply enter the code below into the Arduino IDE:

----
include::code/example2.pde[]
----

After up upload this sketch to the MintDuino, the following will occur:

. The Wait Time for the LED will be initialized with a value of 2000 milliseconds (2 seconds).
. A random seed will be generated using Analog Pin 1 and random noise from that unused pin.
. A loop will start and a random value between 0 and 5000 milliseconds will be added to the current Wait Time value of 2000 milliseconds.
. Three fast flashes occur, alerting game players to begin watching for the game LED to light.
. There will be a random pause (based on a value between 2000 and 7000 milliseconds).
. The LED will light and hold for two seconds.
. The LED will turn off and a five second delay will occur.
. The Wait Time is reset to a minimum of two seconds.
. The loop begins again with a random value between 0 and 5000 milliseconds) added to the reset Wait Time and three fast flashes of the LED.

As you can see, the beginnings of the MintDuino Reflex Game are starting to appear.  We have a random amount of time that will pass before the LED lights up – this is what the two players will be waiting to see before they push their buttons.

And buttons is what we need to learn how to use now.  We’ll next tackle Sub-Task 3 and learn how to light that LED by pressing a pushbutton.  Unplug the USB cable from the FTDI/MintDuino and make no changes to the wiring of the LED and resistor.

* [[ Sub Task 1 | reflex_game_subtask_1]]

==== Troubleshooting Sub-Task 2
If you managed to get the LED to light in Sub-Task 1, then any problems you’ll likely have with Sub-Task 2 will exist in the program itself.  

If you’re not seeing the initial three quick flashes of the LED, check your code to make certain you’re not using the ledWait variable to control the on-and-off lighting.  If you’re not getting a random wait after the three initial flashes (for example, if the delay is always the same number of seconds), make certain you included the last bit of code that resets the ledWait variable to 2000.

=== Sub-Task 3: Light an LED with a Pushbutton
Sub-Task 3 will add to the same circuit you assembled for Sub-Tasks 1 and 2 by introducing the single pushbutton component to the mini breadboard, as seen in <<Figure7>>.

[[Figure7]]
.A single pushbutton that will light the LED when pressed.
image:figs/Figure7.jpg[scaledwidth="90%"]

Add the pushbutton to the mini breadboard by inserting it so that the distance between the two top legs is a single hole (on a single row) and the distance between a top and a bottom leg has two holes between it (spanning four rows altogether).  A closeup of this can be seen in <<Figure8>>.

[[Figure8]]
.The pushbutton is inserted into the mini breadboard a specific way.
image:figs/Figure8.jpg[scaledwidth="90%"]

<<Figure9>> shows the pushbutton inserted into the mini breadboard.  Make certain to leave the left-most hole open on the top and bottom row where the pushbutton is inserted.  (These will be used to add jumper wires.)

[[Figure9]]
.Leave an empty hole to the left of the top row and bottom row of the pushbutton. 
image:figs/Figure9.jpg[scaledwidth="90%"]
